<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> 6 tips for AI-assisted coding in science | Konstantin Gregor </title> <meta name="author" content="Konstantin Gregor"> <meta name="description" content="Don't just vibe-code, use AI wisely!"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://k-gregor.github.io/blog/2025/ai-coding/"> <script src="/assets/js/theme.js?a5ca4084d3b81624bcfa01156dae2b8e"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Konstantin</span> Gregor </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/courses/">courses </a> </li> <li class="nav-item "> <a class="nav-link" href="/funstuff/">fun stuff </a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">6 tips for AI-assisted coding in science</h1> <p class="post-meta"> Created on September 14, 2025 </p> <p class="post-tags"> <a href="/blog/2025"> <i class="fa-solid fa-calendar fa-sm"></i> 2025 </a>   ·   <a href="/blog/tag/code"> <i class="fa-solid fa-hashtag fa-sm"></i> code</a>     ·   <a href="/blog/category/code"> <i class="fa-solid fa-tag fa-sm"></i> code</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogpostimgs/forest_carbon-480.webp 480w,/assets/img/blogpostimgs/forest_carbon-800.webp 800w,/assets/img/blogpostimgs/forest_carbon-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/blogpostimgs/forest_carbon.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="400" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> I was able to create this plot by combining two datasets and aggregating values in a matter of minutes instead of hours by using AI-assisted coding. </div> <p>AI tools are here to stay, and they can help you write code blazingly fast. But, you shouldn’t just “vibe-code” and copy and past AI-generated code until the results look fine. Why? Because:</p> <ol> <li>there might be errors in there that you don’t see</li> <li>the code will likely be very hard to understand and maintain</li> <li>it won’t be re-usable</li> </ol> <p>So, here are 6 tips that I have gathered when coding with an AI. In the end I will also provide another final take-away!</p> <p>I will address these tips by going through an example, namely: using a file of a global forest model that where the forests of Europe were simulated, and plotting the total carbon stored in each European country. This is how the data looks:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      Lon      Lat     VegC
     6.25    51.75    0.954
    27.25    62.75    5.302
      ...      ...      ...
</code></pre></div></div> <h1 id="1-use-the-correct-tool">1. Use the correct tool</h1> <p>Are you just writing scripts or are you maintaining a larger amounts of code? For smaller tasks, like analyzing and plotting datasets, using your go-to AI like ChatGPT or Gemini is good enough. But if you want the AI to know your entire project, you should use a different tool like <code class="language-plaintext highlighter-rouge">Copilot</code>, <code class="language-plaintext highlighter-rouge">Claude</code>, or <code class="language-plaintext highlighter-rouge">Cursor</code>. You can check for yourself which of these suit you best. For the example I want to show here, ChatGPT is enough as we do not need it to know any other code for the problem.</p> <h1 id="2-code-in-an-iterative-way">2. Code in an iterative way</h1> <p>Don’t try to get the whole task done at once. Break it up into smaller pieces. Especially when working with notebooks, you can start by using the small pieces and checking whether they work correctly (see also point 4). In my example:</p> <ol> <li>Get country data and plot it</li> <li>Assign each row in the dataset the country in which it lies</li> <li>For each row in the data set, compute the area of its grid cell (depending on the geographic projection)</li> <li>Group the data by country and sum up</li> <li>Plot the result</li> </ol> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/blogpostimgs/countries-480.webp 480w,/assets/img/blogpostimgs/countries-800.webp 800w,/assets/img/blogpostimgs/countries-1400.webp 1400w," sizes="95vw" type="image/webp"></source> <img src="/assets/img/blogpostimgs/countries.png" class="img-fluid rounded z-depth-1 mx-auto d-block" width="400" height="auto" data-zoomable="" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> <div class="caption"> With this plot I can simply check that step 2 was executed correctly. </div> <h1 id="3-use-thorough-prompts-and-context">3. Use thorough prompts and context</h1> <p>Prompt engineering is a key technique to get proper results by AIs. So, give it all the information you have, explain the datasets thoroughly, upload possible existing files or scripts. That way, the AI can make use of all this information to write better code. For instance like this:</p> <blockquote> <p>I have a csv file, <code class="language-plaintext highlighter-rouge">cpool.csv</code>, which is delimited by tabs. This file contains the columns <code class="language-plaintext highlighter-rouge">Lon, Lat, Year, VegC</code>. It has one row per grid cell and year at a 0.5 degree resolution and spans Europe’s land area. First, read in the file. Second, keep only those rows where the year is 2010, and drop the <code class="language-plaintext highlighter-rouge">Year</code> column. Then, add a column called “country” to each row and assign it the name of the country that the grid cell lies in using the shapefile <code class="language-plaintext highlighter-rouge">ne_110m_admin_0_countries.shp</code>.</p> </blockquote> <h1 id="4-let-the-ai-add-tests-and-assertions">4 Let the AI add tests and assertions</h1> <p>This is a key point. Don’t just copy-paste the code and hope for the best - CHECK IT! Assertions and tests offer perfect ways to check intermediate steps of the process, making sure that everything is correct.</p> <h3 id="tests">Tests</h3> <p>This might be a complicated part but I urge anyone to familiarize themselves with the concept of <code class="language-plaintext highlighter-rouge">unit testing</code>!</p> <p>In Python, you can have the tests inline with <code class="language-plaintext highlighter-rouge">doctest</code>. But in any programming language you can add these so-called <code class="language-plaintext highlighter-rouge">unit-tests</code> that check the correctness of the code. For instance:</p> <blockquote> <p>From the script you generated, please extract the area computation into a function <code class="language-plaintext highlighter-rouge">compute_gridcell_area()</code> that takes the latitude, and the size (in degrees) of a gridcell as an input and computes the gridcell area in meters. Please add a python doctest checking that this function works for size 0.5°, and an error margin of 1% using the following test cases: lat = 0° –&gt; 3077274420 m lat = 45° –&gt; 2190625912 m lat = 75° –&gt; 806495859 m</p> </blockquote> <p>The outcome is (with some adaptations by me):</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td> <td class="code"><pre><span class="k">def</span> <span class="nf">compute_gridcell_area_meters</span><span class="p">(</span><span class="n">lat</span><span class="p">,</span> <span class="n">size_deg</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">earth_radius</span><span class="o">=</span><span class="mi">6371000</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">
    Using some values to test whether the script works correctly:
</span><span class="gp">    &gt;&gt;&gt;</span> <span class="nf">abs</span><span class="p">(</span><span class="nf">compute_gridcell_area_meters</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-</span> <span class="mi">3077274420</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3077274420</span> <span class="o">&lt;</span> <span class="mf">0.01</span>
    <span class="bp">True</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="nf">abs</span><span class="p">(</span><span class="nf">compute_gridcell_area_meters</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2190625912</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2190625912</span> <span class="o">&lt;</span> <span class="mf">0.01</span>
    <span class="bp">True</span>
    <span class="o">&gt;&gt;&gt;</span> <span class="nf">abs</span><span class="p">(</span><span class="nf">compute_gridcell_area_meters</span><span class="p">(</span><span class="mi">75</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">-</span> <span class="mi">822206495859</span><span class="p">)</span> <span class="o">/</span> <span class="mi">806495859</span> <span class="o">&lt;</span> <span class="mf">0.01</span>
    <span class="bp">True</span>
    <span class="sh">"""</span>
    <span class="n">lat_rad</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">radians</span><span class="p">(</span><span class="n">lat</span><span class="p">)</span>
    <span class="n">dphi</span> <span class="o">=</span> <span class="n">size_deg</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> <span class="n">earth_radius</span>       <span class="c1"># N–S extent
</span>    <span class="n">dlambda</span> <span class="o">=</span> <span class="n">size_deg</span> <span class="o">*</span> <span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">pi</span> <span class="o">/</span> <span class="mi">180</span><span class="p">)</span> <span class="o">*</span> <span class="n">earth_radius</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="nf">cos</span><span class="p">(</span><span class="n">lat_rad</span><span class="p">)</span>  <span class="c1"># E–W extent
</span>    <span class="k">return</span> <span class="n">dphi</span> <span class="o">*</span> <span class="n">dlambda</span>
</pre></td> </tr></tbody></table></code></pre></figure> <p>One critical thing here: you <strong>have to</strong> check that the test can also fail, for instance by changing some of the numbers. Then you can be sure that the test is actually doing something.</p> <h3 id="assertions">Assertions</h3> <p>Assertions are like mini-tests within the code, and you can use them to check whether intermediate steps are correct. Funnily, in this example, ChatGPT actually made an error by converting units! I detected it easily by letting it add assertions:</p> <blockquote> <p>Please add an assertion checking that the total area of the data points sums up to 6 million square kilometers!</p> </blockquote> <p>The result was this, and it helped me find an error in ChatGPT’s code:</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
3
4
</pre></td> <td class="code"><pre><span class="n">total_grid_area_km2</span> <span class="o">=</span> <span class="n">gdf</span><span class="p">[</span><span class="sh">"</span><span class="s">area</span><span class="sh">"</span><span class="p">].</span><span class="nf">sum</span><span class="p">()</span> <span class="o">/</span> <span class="mf">1e6</span>  <span class="c1"># convert m² to km²
</span>
<span class="c1"># Assert the total area is roughly 6 million km²
</span><span class="k">assert</span> <span class="mf">5.9e6</span> <span class="o">&lt;=</span> <span class="n">total_grid_area_km2</span> <span class="o">&lt;=</span> <span class="mf">6.1e6</span><span class="p">,</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Total grid area seems incorrect: </span><span class="si">{</span><span class="n">total_grid_area_km2</span><span class="si">:</span><span class="p">.</span><span class="mi">0</span><span class="n">f</span><span class="si">}</span><span class="s"> km²</span><span class="sh">"</span>
</pre></td> </tr></tbody></table></code></pre></figure> <h1 id="5-clean-up-and-make-it-tidy-and-understandable">5. Clean up and make it tidy and understandable</h1> <p>When you or somebody else needs to get back to this code, it will be super hard to understand. That’s why you should rename variables and functions, extract pieces into new functions, remove duplications, and store magic numbers. For instance:</p> <ol> <li>Instead of calling the dataframe <code class="language-plaintext highlighter-rouge">df</code>, call it <code class="language-plaintext highlighter-rouge">forest_carbon</code> </li> <li>Instead of having one large file, extract functions like <code class="language-plaintext highlighter-rouge">compute_grid_cell_area()</code> </li> <li>Instead of using magic numbers like <code class="language-plaintext highlighter-rouge">9.81</code> store them in constants: <code class="language-plaintext highlighter-rouge">GRAVITATIONAL_CONSTANT = 9.81</code> and use these.</li> </ol> <p>For this topic, please see also my other post: <a href="/blog/2024/good-code-1-proper-naming-in-scientific-code/">variable naming and function extraction</a></p> <p>Notably, AI can probably help you with cleaning up. You can even ask it for a code review and it will give you some tips:</p> <blockquote> <p>Please give me a code review for the following script: …</p> </blockquote> <p>Here is part of the response:</p> <blockquote> <p><b>Magic numbers in conversions:</b> You compute PgC as kgC / (1000 * 1000 * 1000 * 1000). That’s correct (1 Pg = 10¹⁵ g = 10¹² kg), but it’s error-prone. 👉 Better: <code class="language-plaintext highlighter-rouge">PgC = total_europe_kgC / 1e12 # since VegC is in kgC</code></p> </blockquote> <p>You see that the response is not really good, but it does point you to the problem. So this is how I changed it:</p> <p>Before:</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
</pre></td> <td class="code"><pre><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Total vegetation carbon in Europe: </span><span class="si">{</span><span class="n">total_europe_kg</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="mi">1000</span><span class="o">*</span><span class="mi">1000</span><span class="o">*</span><span class="mi">1000</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> PgC</span><span class="sh">"</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></figure> <p>After:</p> <figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr>
<td class="gutter gl"><pre class="lineno">1
2
</pre></td> <td class="code"><pre><span class="n">CONVERSION_FACTOR_kg_TO_Pg</span> <span class="o">=</span> <span class="mf">1e12</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Total vegetation carbon in Europe: </span><span class="si">{</span><span class="n">total_europe_kg</span> <span class="o">/</span> <span class="n">CONVERSION_FACTOR_kg_TO_Pg</span><span class="si">:</span><span class="p">.</span><span class="mi">2</span><span class="n">f</span><span class="si">}</span><span class="s"> PgC</span><span class="sh">"</span><span class="p">)</span>
</pre></td> </tr></tbody></table></code></pre></figure> <h1 id="6-use-a-new-context-for-each-problem">6. Use a new context for each problem</h1> <p>On ChatGPT etc., don’t keep a chat open where you keep dumping all the problems. For each problem, start a new chat.</p> <h1 id="my-final-take-away">My final take-away</h1> <p>Think of the AI as a new intern that’s really good at coding. They can only do satisfactory work if you guide them well. And at the end, you need to look over whether they did a good job, and improve their first draft.</p> <p>Hopefully this was helpful to you!</p> <p>If you want to have a little laugh at AI, check out my chatGPT song on Youtube: https://youtu.be/JyvGPlJy48U?si=MvGFAtsXiB70ghkD</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/memory-aspects-in-scientific-coding/">Memory aspects in scientific coding</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/good-code-1-proper-naming-in-scientific-code/">Writing good code 1 - Naming, comments, functions, and the DRY principle</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/life-hacks-for-a-successful-phd/">9 life hacks for a successful PhD (or other knowledge work)</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2024/good-code-2-solid-principles/">Writing good code 2 - the SOLID principles applied to scientific code</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2025/radiative-forcing/">A comprehensive explanation of radiative forcing and friends</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Konstantin Gregor. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?b7816bd189846d29eded8745f9c4cf77"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-12YX5QG8PE"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-12YX5QG8PE");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>